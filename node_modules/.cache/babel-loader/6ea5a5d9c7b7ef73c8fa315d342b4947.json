{"remainingRequest":"/Users/pwm/www/ui/ShopOA/node_modules/babel-loader/lib/index.js!/Users/pwm/www/ui/ShopOA/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pwm/www/ui/ShopOA/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pwm/www/ui/ShopOA/src/components/HomeShopList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/pwm/www/ui/ShopOA/src/components/HomeShopList.vue","mtime":1561600366121},{"path":"/Users/pwm/www/ui/ShopOA/node_modules/cache-loader/dist/cjs.js","mtime":1561365392055},{"path":"/Users/pwm/www/ui/ShopOA/node_modules/babel-loader/lib/index.js","mtime":1561365391859},{"path":"/Users/pwm/www/ui/ShopOA/node_modules/cache-loader/dist/cjs.js","mtime":1561365392055},{"path":"/Users/pwm/www/ui/ShopOA/node_modules/vue-loader/lib/index.js","mtime":1561365398190}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"/Users/pwm/www/ui/ShopOA/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport api from \"../utils/api\";\nimport { mapMutations, mapActions, mapState } from 'vuex';\nexport default {\n  props: {\n    lists: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    titles: {\n      type: Array,\n      default: function _default() {\n        return ['分类图标/名称', '商品数量', '创建时间', '操作'];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      multipleSelection: [],\n      currentPage4: 1,\n      pageSize: 10\n    };\n  },\n  computed: {\n    selectIndex: function selectIndex() {\n      return this.$store.state.selectIndex;\n    },\n    page: function page() {\n      return this.$store.state.page;\n    }\n  },\n  methods: _objectSpread({}, mapActions(['getGoodsInfo']), {\n    toggleSelection: function toggleSelection(rows) {\n      var _this = this;\n\n      if (rows) {\n        rows.forEach(function (row) {\n          _this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n      var arr = [];\n      val.map(function (ele) {\n        arr.push(ele.id);\n      });\n      this.$store.state.selectItems = [].concat(arr);\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      console.log(\"\\u6BCF\\u9875 \".concat(val, \" \\u6761\"));\n      this.pageSize = val;\n      this.$store.state.searchForm.pageSize = val;\n      this.$store.state.searchForm.page = this.currentPage4;\n      this.getShopLists();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n      this.currentPage4 = val;\n      this.$store.state.searchForm.page = val;\n      this.$store.state.searchForm.pageSize = this.pageSize;\n      this.getShopLists();\n    },\n    onEdit: function onEdit(val) {\n      console.log(val);\n      var obj = {};\n\n      if (val.type === 1) {\n        //删除\n        obj = {\n          ids: [val.id],\n          status: -1\n        };\n        var msg = '删除';\n        this.onConfirm(msg, obj);\n      } else {\n        this.$router.push(\"/home/addShop/\".concat(val.id));\n        this.getGoodsInfo({\n          id: val.id\n        });\n        this.getCategoryList();\n      }\n    },\n    onChangeStatue: function onChangeStatue(e) {\n      var obj = {\n        ids: [e.id],\n        status: e.status == 3 ? 2 : 3\n      };\n      var msg = e.status == 3 ? '上架' : '下架';\n      this.onConfirm(msg, obj);\n    },\n    onConfirm: function onConfirm(msg, obj) {\n      var _this2 = this;\n\n      this.$confirm(\"\\u662F\\u5426\".concat(msg, \"\\uFF1F\"), '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        center: true\n      }).then(function () {\n        _this2.$store.state.betchStatus = obj;\n\n        _this2.$emit('onChangeStatue');\n      }).catch(function () {\n        _this2.$message({\n          type: 'info',\n          message: '已取消'\n        });\n      });\n    }\n  }, mapActions(['getCategoryList', 'getShopLists', 'postBetchStatus', 'postBetchTag'])),\n  created: function created() {\n    this.getShopLists();\n  }\n};",{"version":3,"sources":["HomeShopList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"table-ctn\">\n        <el-table\n            ref=\"multipleTable\"\n            :data=\"lists\"\n            tooltip-effect=\"dark\"\n            style=\"width: 100%\"\n            @selection-change=\"handleSelectionChange\">\n            <el-table-column\n            type=\"selection\"\n            width=\"55\">\n            </el-table-column>\n            <el-table-column\n            label=\"商品信息\"\n            width = '300'\n            >\n            <template slot-scope=\"scope\" class=\"item-one\">\n                <img class=\"header\" src=\"https://img.kemanyun.com/qianhuituan/2019-06-14/2444_1560479214_ZnpgO5sami.png\" alt=\"\">\n                {{ scope.row.title }}\n            </template>\n            </el-table-column>\n            <el-table-column\n            prop=\"price\"\n            label=\"价格信息\"\n            width=\"120\">\n            </el-table-column>\n            <el-table-column\n            prop=\"basic_sale_num\"\n            label=\"销售额\"\n            sortable>\n            </el-table-column>\n            <el-table-column\n            prop=\"xiaol\"\n            label=\"销量\"\n            sortable>\n            </el-table-column>\n            <el-table-column\n            prop=\"pv\"\n            label=\"PV\"\n            sortable>\n            </el-table-column>\n            <el-table-column\n            prop=\"uv\"\n            label=\"UV\"\n            sortable>\n            </el-table-column>\n            <el-table-column\n            label=\"状态\"\n            sortable>\n                <template slot-scope=\"scope\">\n                    <el-button @click=\"onChangeStatue(scope.row)\" type = 'text'>{{ scope.row.status == 2 ? '上架': '下架'}}</el-button>\n                </template>\n            </el-table-column>\n            <el-table-column\n            prop=\"address\"\n            label=\"操作\"\n            width = '140'\n            sortable>\n                <template slot-scope=\"scope\">\n                    <el-button size = mini @click=\"onEdit({id:scope.row.id,type:0})\" type=\"danger\">编辑</el-button>\n                    <el-button v-if=\"selectIndex !=3\" size = mini @click=\"onEdit({id:scope.row.id,type:1})\" type=\"primary\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <el-pagination\n            class=\"page-box\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage4\"\n            :page-sizes=\"[10, 20, 30, 40]\"\n            :page-size=\"page.pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"page.total\">\n        </el-pagination>\n    </div>\n</template>\n\n<script>\nimport api from '../utils/api'\nimport { mapMutations, mapActions, mapState } from 'vuex'\n\nexport default {\n    props:{\n        lists:{\n            type: Array,\n            default: () => {\n                return []\n            }        \n        },\n        titles:{\n            type: Array,\n            default: () => {\n                return ['分类图标/名称', '商品数量', '创建时间', '操作']\n            }\n        }\n    },\n    data(){\n        return{\n            multipleSelection: [],\n            currentPage4: 1,\n            pageSize:10\n           \n        }\n    },\n     computed: {\n        selectIndex () {\n            return this.$store.state.selectIndex\n        },\n        page(){\n            return this.$store.state.page\n        }\n    },\n    methods:{\n        ...mapActions(['getGoodsInfo']),\n      toggleSelection(rows) {\n        if (rows) {\n          rows.forEach(row => {\n            this.$refs.multipleTable.toggleRowSelection(row);\n          });\n        } else {\n          this.$refs.multipleTable.clearSelection();\n        }\n        \n      },\n      handleSelectionChange(val) {\n        this.multipleSelection = val;\n        let arr = []\n        val.map((ele)=>{\n            arr.push(ele.id)\n        })\n        this.$store.state.selectItems = [].concat(arr);\n      },\n       handleSizeChange(val) {\n        console.log(`每页 ${val} 条`);\n        this.pageSize = val\n        this.$store.state.searchForm.pageSize = val\n        this.$store.state.searchForm.page = this.currentPage4\n        this.getShopLists()\n      },\n      handleCurrentChange(val) {\n        console.log(`当前页: ${val}`);\n        this.currentPage4 = val\n        this.$store.state.searchForm.page = val\n        this.$store.state.searchForm.pageSize = this.pageSize\n        this.getShopLists()\n      },\n      onEdit(val){\n          console.log(val);\n          let obj = {}\n          if (val.type === 1) {  //删除\n               obj = {\n                    ids: [val.id],\n                    status: -1\n                }\n          let msg = '删除'\n          this.onConfirm(msg,obj)\n          } else {\n              \n              this.$router.push(`/home/addShop/${val.id}`)\n              this.getGoodsInfo({id:val.id})\n              this.getCategoryList()\n              \n          }\n          \n      },\n      onChangeStatue(e){\n          \n          let obj = {\n              ids: [e.id],\n              status: e.status == 3 ? 2 : 3\n          }\n          let msg = e.status == 3 ? '上架': '下架'\n          this.onConfirm(msg,obj)\n      },\n      onConfirm(msg,obj){\n            this.$confirm(`是否${msg}？`, '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning',\n                center: true\n                }).then(() => {\n                    this.$store.state.betchStatus = obj;\n                    this.$emit('onChangeStatue')\n                }).catch(() => {\n                this.$message({\n                    type: 'info',\n                    message: '已取消'\n                });\n            });\n      },\n       ...mapActions([\n            'getCategoryList', 'getShopLists', 'postBetchStatus', 'postBetchTag'\n        ])\n\n      \n    },\n    created(){\n        this.getShopLists()\n    }\n}\n</script>\n<style>\n.table-ctn .el-button+.el-button {\n    margin-left: 2px;\n}\n.page-box {\n    min-height: 40px;\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    box-sizing: border-box;\n    padding-right: 10px;\n}\n.header {\n    display: block;\n    width: 80px;\n    height: 80px;\n    overflow: hidden;\n    border: 1px solid #f1f1f1;\n}\n.table-ctn .el-table .cell {\n    display: flex;\n    align-items: center;\n}\n</style>\n\n"],"sourceRoot":"src/components"}]}