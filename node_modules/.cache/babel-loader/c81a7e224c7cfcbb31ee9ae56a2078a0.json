{"remainingRequest":"/Users/taoliang/Desktop/homeX/ShopOA/node_modules/babel-loader/lib/index.js!/Users/taoliang/Desktop/homeX/ShopOA/node_modules/eslint-loader/index.js??ref--13-0!/Users/taoliang/Desktop/homeX/ShopOA/src/router.js","dependencies":[{"path":"/Users/taoliang/Desktop/homeX/ShopOA/src/router.js","mtime":1566309636988},{"path":"/Users/taoliang/Desktop/homeX/ShopOA/node_modules/cache-loader/dist/cjs.js","mtime":1561365392000},{"path":"/Users/taoliang/Desktop/homeX/ShopOA/node_modules/babel-loader/lib/index.js","mtime":1561365391000},{"path":"/Users/taoliang/Desktop/homeX/ShopOA/node_modules/eslint-loader/index.js","mtime":1561365393000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport { log } from 'util';\n\nvar Login = function Login() {\n  return import('@/pages/Login');\n};\n\nvar Home = function Home() {\n  return import('@/pages/Home');\n};\n\nvar ShopList = function ShopList() {\n  return import('@/pages/ShopList');\n};\n\nvar AddShop = function AddShop() {\n  return import('@/pages/AddShop');\n};\n\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    component: Login,\n    name: 'login',\n    meta: {\n      title: 'login',\n      description: '登录'\n    }\n  }, {\n    path: '/login',\n    component: Login,\n    name: 'login',\n    meta: {\n      title: 'login',\n      description: '登录'\n    }\n  }, {\n    path: '/home',\n    component: Home,\n    meta: {\n      requireAuth: true\n    }\n  }, {\n    path: '/shopList',\n    component: ShopList,\n    meta: {\n      title: '列表',\n      description: '商品列表',\n      requireAuth: true\n    }\n  }, {\n    path: '/home/addShop/:id',\n    component: AddShop,\n    meta: {\n      requireAuth: true\n    }\n  }, {\n    path: '/home/addShop',\n    component: AddShop,\n    meta: {\n      requireAuth: true\n    }\n  }]\n});\nrouter.beforeEach(function (to, form, next) {\n  var token = localStorage.getItem('token');\n\n  if (to.matched.some(function (record) {\n    return record.meta.requireAuth;\n  })) {\n    if (token) {\n      next();\n    } else {\n      alert('未登录');\n      next({\n        path: '/login',\n        query: {\n          redirect: to.fullPath // 将要跳转路由的path作为参数，传递到登录页面\n\n        }\n      });\n    }\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/Users/taoliang/Desktop/homeX/ShopOA/src/router.js"],"names":["Vue","Router","log","Login","Home","ShopList","AddShop","use","router","mode","routes","path","component","name","meta","title","description","requireAuth","beforeEach","to","form","next","token","localStorage","getItem","matched","some","record","alert","query","redirect","fullPath"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,SAASC,GAAT,QAAoB,MAApB;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAM,OAAO,eAAP,CAAN;AAAA,CAAd;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO;AAAA,SAAM,OAAO,cAAP,CAAN;AAAA,CAAb;;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAM,OAAO,kBAAP,CAAN;AAAA,CAAjB;;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,SAAM,OAAO,iBAAP,CAAN;AAAA,CAAhB;;AACAN,GAAG,CAACO,GAAJ,CAAQN,MAAR;AAEA,IAAMO,MAAM,GAAI,IAAIP,MAAJ,CAAW;AACvBQ,EAAAA,IAAI,EAAG,SADgB;AAEvBC,EAAAA,MAAM,EAAC,CACH;AACIC,IAAAA,IAAI,EAAC,GADT;AAEIC,IAAAA,SAAS,EAAET,KAFf;AAGIU,IAAAA,IAAI,EAAE,OAHV;AAIIC,IAAAA,IAAI,EAAC;AACHC,MAAAA,KAAK,EAAE,OADJ;AAEHC,MAAAA,WAAW,EAAC;AAFT;AAJT,GADG,EAUH;AACIL,IAAAA,IAAI,EAAC,QADT;AAEIC,IAAAA,SAAS,EAAET,KAFf;AAGIU,IAAAA,IAAI,EAAE,OAHV;AAIIC,IAAAA,IAAI,EAAC;AACHC,MAAAA,KAAK,EAAE,OADJ;AAEHC,MAAAA,WAAW,EAAC;AAFT;AAJT,GAVG,EAmBH;AACIL,IAAAA,IAAI,EAAE,OADV;AAEIC,IAAAA,SAAS,EAAER,IAFf;AAGIU,IAAAA,IAAI,EAAC;AACHG,MAAAA,WAAW,EAAE;AADV;AAHT,GAnBG,EA0BH;AACIN,IAAAA,IAAI,EAAE,WADV;AAEIC,IAAAA,SAAS,EAAEP,QAFf;AAGIS,IAAAA,IAAI,EAAC;AACHC,MAAAA,KAAK,EAAE,IADJ;AAEHC,MAAAA,WAAW,EAAC,MAFT;AAGHC,MAAAA,WAAW,EAAE;AAHV;AAHT,GA1BG,EAoCH;AACIN,IAAAA,IAAI,EAAE,mBADV;AAEIC,IAAAA,SAAS,EAAEN,OAFf;AAGIQ,IAAAA,IAAI,EAAC;AACHG,MAAAA,WAAW,EAAE;AADV;AAHT,GApCG,EA2CH;AACIN,IAAAA,IAAI,EAAE,eADV;AAEIC,IAAAA,SAAS,EAAEN,OAFf;AAGIQ,IAAAA,IAAI,EAAC;AACHG,MAAAA,WAAW,EAAE;AADV;AAHT,GA3CG;AAFgB,CAAX,CAAhB;AAsDET,MAAM,CAACU,UAAP,CAAkB,UAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAgB;AAChC,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;AAGE,MAAIL,EAAE,CAACM,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACb,IAAP,CAAYG,WAAhB;AAAA,GAAtB,CAAJ,EAAwD;AAEtD,QAAIK,KAAJ,EAAW;AAELD,MAAAA,IAAI;AACT,KAHD,MAGM;AACJO,MAAAA,KAAK,CAAC,KAAD,CAAL;AACAP,MAAAA,IAAI,CAAC;AACHV,QAAAA,IAAI,EAAE,QADH;AAEHkB,QAAAA,KAAK,EAAE;AAACC,UAAAA,QAAQ,EAAEX,EAAE,CAACY,QAAd,CAAwB;;AAAxB;AAFJ,OAAD,CAAJ;AAID;AACF,GAZD,MAYO;AACLV,IAAAA,IAAI;AACL;AACJ,CAnBD;AAsBF,eAAeb,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport { log } from 'util';\nconst Login = () => import('@/pages/Login'); \nconst Home = () => import('@/pages/Home');\nconst ShopList = () => import('@/pages/ShopList');\nconst AddShop = () => import('@/pages/AddShop');\nVue.use(Router)\n\nconst router =  new Router({\n    mode : 'history',\n    routes:[\n        {\n            path:'/',\n            component: Login,\n            name: 'login',\n            meta:{\n              title: 'login',\n              description:'登录'\n            }\n        },\n        {\n            path:'/login',\n            component: Login,\n            name: 'login',\n            meta:{\n              title: 'login',\n              description:'登录'\n            }\n        },\n        {\n            path: '/home',\n            component: Home,\n            meta:{\n              requireAuth: true\n            }\n        },\n        {\n            path: '/shopList',\n            component: ShopList,\n            meta:{\n              title: '列表',\n              description:'商品列表',\n              requireAuth: true\n            }\n            \n        },\n        {\n            path: '/home/addShop/:id',\n            component: AddShop,\n            meta:{\n              requireAuth: true\n            }\n        },\n        {\n            path: '/home/addShop',\n            component: AddShop,\n            meta:{\n              requireAuth: true\n            }\n        },\n    ]\n})\n  router.beforeEach((to,form,next)=>{\n    let token = localStorage.getItem('token');\n    \n    \n      if (to.matched.some(record => record.meta.requireAuth)) {\n\n        if (token) {\n\n              next()\n        }else {\n          alert('未登录')\n          next({\n            path: '/login',\n            query: {redirect: to.fullPath} // 将要跳转路由的path作为参数，传递到登录页面\n          })\n        }\n      } else {\n        next()\n      }\n  })\n\n\nexport default router;"]}]}