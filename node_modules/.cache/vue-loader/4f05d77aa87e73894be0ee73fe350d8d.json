{"remainingRequest":"/Users/edz/Desktop/homeX/ShopOA/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edz/Desktop/homeX/ShopOA/src/components/HomeTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/edz/Desktop/homeX/ShopOA/src/components/HomeTable.vue","mtime":1561381021823},{"path":"/Users/edz/Desktop/homeX/ShopOA/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edz/Desktop/homeX/ShopOA/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/edz/Desktop/homeX/ShopOA/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/edz/Desktop/homeX/ShopOA/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet moment = require(\"moment\");\nexport default {\n    props:{\n        lists:{\n            type: Array,\n            required: true,\n            default: () => {\n                return [{\n                        id: '12987122',\n                        name: '好滋好味鸡蛋仔',\n                        category: '江浙小吃、小吃零食',\n                        desc: '荷兰优质淡奶，奶香浓而不腻',\n                        address: '上海市普陀区真北路',\n                        shop: '王小虎夫妻店',\n                        shopId: '10333',\n                        }, {\n                        id: '12987123',\n                        name: '好滋好味鸡蛋仔',\n                        category: '江浙小吃、小吃零食',\n                        desc: '荷兰优质淡奶，奶香浓而不腻',\n                        address: '上海市普陀区真北路',\n                        shop: '王小虎夫妻店',\n                        shopId: '10333',\n                        children:[]\n                        }, {\n                        id: '12987125',\n                        name: '好滋好味鸡蛋仔',\n                        category: '江浙小吃、小吃零食',\n                        desc: '荷兰优质淡奶，奶香浓而不腻',\n                        address: '上海市普陀区真北路',\n                        shop: '王小虎夫妻店',\n                        shopId: '10333',\n                        children:[]\n                        }, {\n                        id: '12987126',\n                        name: '好滋好味鸡蛋仔',\n                        category: '江浙小吃、小吃零食',\n                        desc: '荷兰优质淡奶，奶香浓而不腻',\n                        address: '上海市普陀区真北路',\n                        shop: '王小虎夫妻店',\n                        shopId: '10333',\n                        children:[]\n                    }]\n            }\n        },\n        titles:{\n            type: Array,\n            default: () => {\n                return ['分类图标/名称', '商品数量', '创建时间', '操作']\n            }\n        },\n        loading :{\n            type:Boolean\n        }\n    },\n    data(){\n        return{\n           expands: [],\n           getRowKeys (row) {\n              return row.id\n            },\n            isShowHeader:false,\n            listItem:{\n                children:[]\n            },\n            isShowHeader: false\n        }\n    },\n    methods:{\n      // 折叠面板每次只能展开一行\n          expandSelect (row, expandedRows) {\n            var that = this\n            if (expandedRows.length) {\n              that.expands = []\n              if (row) {\n                that.expands.push(row.id)\n              }\n            } else {\n              that.expands = []\n            }\n          },\n          onAddChildren(val){\n              this.$emit('addNewChildren',val)\n          },\n          onDel(e){\n              console.log(e);\n              \n                this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                    }).then(() => {\n                    this.$message({\n                        type: 'success',\n                        message: '删除成功!'\n                    });\n                    }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });          \n                });\n          },\n          onEdit(val){\n              console.log(val);\n               this.$emit('editClass', val)\n\n            //   if( val.type === 0 ) { // 增加子类\n\n            //   } else if (val.type === 1) { // 编辑\n            //     this.$emit('addNewClass', {id: val.id, type: 'edit',val: val})\n\n            //   } else { // 删除\n            //     this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n            //         confirmButtonText: '确定',\n            //         cancelButtonText: '取消',\n            //         type: 'warning'\n            //         }).then(() => {\n            //         this.$message({\n            //             type: 'success',\n            //             message: '删除成功!'\n            //         });\n            //         }).catch(() => {\n            //         this.$message({\n            //             type: 'info',\n            //             message: '已取消删除'\n            //         });          \n            //     });\n            //   }\n              \n          },\n          formtTime(e){\n              let tim = parseInt(e.created_at) \n              \n              return moment(tim).format('YYYY-MM-DD HH-mm')\n          }\n      \n      \n    },\n    created(){\n        \n    }\n}\n",{"version":3,"sources":["HomeTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA","file":"HomeTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"table-ctn\">\n       <el-table\n        :data=\"lists\"\n        type='index'\n        :row-key='getRowKeys'\n        style=\"width: 100%\">\n            <el-table-column\n            label=\"分类图标/名称\"\n            prop=\"title\">\n            </el-table-column>\n            <el-table-column\n            label=\"商品数量\"\n            prop=\"name\">\n            </el-table-column>\n            <el-table-column\n            label=\"排序\"\n            prop=\"sort\">\n            </el-table-column>\n            <el-table-column\n            label=\"创建时间\"\n            >\n                <template slot-scope=\"scope\">\n                    <span>\n                        {{formtTime(scope.row)}}\n                    </span>\n                </template>\n            </el-table-column>\n            <el-table-column\n            label=\"操作\"\n            >\n            <template slot-scope=\"scope\">\n                <el-button v-if=\"scope.row.children\" type=\"text\" @click=\"onAddChildren({val:scope.row})\">增加子类</el-button>\n                <el-button type=\"text\" @click=\"onEdit(scope.row)\">编辑</el-button>\n                <el-button type=\"text\" @click=\"onDel({id: scope.row.id})\">删除</el-button>\n            </template>\n            </el-table-column>\n        </el-table>\n    </div>\n</template>\n\n<script>\nlet moment = require(\"moment\");\nexport default {\n    props:{\n        lists:{\n            type: Array,\n            required: true,\n            default: () => {\n                return [{\n                        id: '12987122',\n                        name: '好滋好味鸡蛋仔',\n                        category: '江浙小吃、小吃零食',\n                        desc: '荷兰优质淡奶，奶香浓而不腻',\n                        address: '上海市普陀区真北路',\n                        shop: '王小虎夫妻店',\n                        shopId: '10333',\n                        }, {\n                        id: '12987123',\n                        name: '好滋好味鸡蛋仔',\n                        category: '江浙小吃、小吃零食',\n                        desc: '荷兰优质淡奶，奶香浓而不腻',\n                        address: '上海市普陀区真北路',\n                        shop: '王小虎夫妻店',\n                        shopId: '10333',\n                        children:[]\n                        }, {\n                        id: '12987125',\n                        name: '好滋好味鸡蛋仔',\n                        category: '江浙小吃、小吃零食',\n                        desc: '荷兰优质淡奶，奶香浓而不腻',\n                        address: '上海市普陀区真北路',\n                        shop: '王小虎夫妻店',\n                        shopId: '10333',\n                        children:[]\n                        }, {\n                        id: '12987126',\n                        name: '好滋好味鸡蛋仔',\n                        category: '江浙小吃、小吃零食',\n                        desc: '荷兰优质淡奶，奶香浓而不腻',\n                        address: '上海市普陀区真北路',\n                        shop: '王小虎夫妻店',\n                        shopId: '10333',\n                        children:[]\n                    }]\n            }\n        },\n        titles:{\n            type: Array,\n            default: () => {\n                return ['分类图标/名称', '商品数量', '创建时间', '操作']\n            }\n        },\n        loading :{\n            type:Boolean\n        }\n    },\n    data(){\n        return{\n           expands: [],\n           getRowKeys (row) {\n              return row.id\n            },\n            isShowHeader:false,\n            listItem:{\n                children:[]\n            },\n            isShowHeader: false\n        }\n    },\n    methods:{\n      // 折叠面板每次只能展开一行\n          expandSelect (row, expandedRows) {\n            var that = this\n            if (expandedRows.length) {\n              that.expands = []\n              if (row) {\n                that.expands.push(row.id)\n              }\n            } else {\n              that.expands = []\n            }\n          },\n          onAddChildren(val){\n              this.$emit('addNewChildren',val)\n          },\n          onDel(e){\n              console.log(e);\n              \n                this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                    }).then(() => {\n                    this.$message({\n                        type: 'success',\n                        message: '删除成功!'\n                    });\n                    }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });          \n                });\n          },\n          onEdit(val){\n              console.log(val);\n               this.$emit('editClass', val)\n\n            //   if( val.type === 0 ) { // 增加子类\n\n            //   } else if (val.type === 1) { // 编辑\n            //     this.$emit('addNewClass', {id: val.id, type: 'edit',val: val})\n\n            //   } else { // 删除\n            //     this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n            //         confirmButtonText: '确定',\n            //         cancelButtonText: '取消',\n            //         type: 'warning'\n            //         }).then(() => {\n            //         this.$message({\n            //             type: 'success',\n            //             message: '删除成功!'\n            //         });\n            //         }).catch(() => {\n            //         this.$message({\n            //             type: 'info',\n            //             message: '已取消删除'\n            //         });          \n            //     });\n            //   }\n              \n          },\n          formtTime(e){\n              let tim = parseInt(e.created_at) \n              \n              return moment(tim).format('YYYY-MM-DD HH-mm')\n          }\n      \n      \n    },\n    created(){\n        \n    }\n}\n</script>\n<style>\n.form-ctn {\n    flex: 1;\n    background-color: #fff;\n}\n.form-ctn .box-card {\n    margin-top: 15px;\n}\n.clearfix {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.header-box {\n    width: 100%;\n    height: 44px;\n    background-color: antiquewhite;\n    color: #888;\n    background: linear-gradient(#f2f2f2 0%, #f2f2f2 100%, #e4e4e4 100%, #e4e4e4 100%);\n    border: 1px solid #eee;\n    border-bottom: none;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n}\n.m-table {\n    width: 100%;\n    min-height: 44px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #888;\n}\n.m-table-box{\n    width: 100%;\n}\n.list-item{\n    flex: 1;\n    min-height: 44px;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    color: #888;\n    flex-direction: column;\n}\n.one-item ,.list-item-chlidern{\n    display: flex;\n    width: 100%;\n    min-height: 44px;\n    align-items: center;\n    justify-content: center;\n}\n.list-item-chlidern{\n    width: 100%;\n    padding-left: 30px;\n}\n.empty {\n    height: 44px;\n    display: flex;\n    align-items: flex-end;\n    font-size: 14px;\n}\n.t-label {\n    display: block;\n    flex: 1;\n}\n.t-icon {\n    width: 44px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n}\n</style>\n\n"]}]}